Index: connexionbdd.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\ntry{\r\n\r\n$bdd=new PDO('mysql:host=localhost;dbname=TFE;charset=utf8','root','bdTennisTFE');\r\n\r\n}\r\ncatch(Exception $e){\r\n\r\ndie(\"Erreur: \".$e->getMessage());\r\n}\r\n?>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- connexionbdd.php	(revision bf350b17f29b7d00065eac9b362d76645cfdf8ae)
+++ connexionbdd.php	(date 1588603667724)
@@ -1,7 +1,7 @@
 <?php
 try{
 
-$bdd=new PDO('mysql:host=localhost;dbname=TFE;charset=utf8','root','bdTennisTFE');
+$bdd=new PDO('mysql:host=localhost;dbname=TFE;charset=utf8','root','');
 
 }
 catch(Exception $e){
Index: index.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php session_start(); ?>\r\n\r\n<!doctype html>\r\n<html>\r\n\t<head>\r\n\r\n\t\t<meta charset=\"UTF-8\">\r\n\t\t<meta name=\"author\" lang=\"fr\" content=\"Leroy François Dehoux Matthieu\">\r\n\t\t<meta name=\"description\" content=\"Site d'un club de tennis\">\r\n\t\t<meta name=\"keywords\" content=\"accueil\">\r\n\t\t<meta name=\"generator\" content=\"Atom\">\r\n\t\t<meta name=\"robots\" content=\"index\">\r\n\r\n\t\t<link rel=\"stylesheet\" href=\"style.css\" />\r\n\r\n\t</head>\r\n\t<?php\r\n        session_start();\r\n        ?>\r\n\t<body>\r\n\t\t<header>\r\n\r\n\r\n\t\t\t<?php include(\"menu.php\"); ?>\r\n\r\n\t\t</header>\r\n\r\n\t\t<div id=\"content\">\r\n\t\t\t<div class=\"carousel-wrapper\">\r\n\t  <span id=\"item-1\"></span>\r\n\t  <span id=\"item-2\"></span>\r\n\t  <span id=\"item-3\"></span>\r\n\t  <div class=\"carousel-item item-1\">\r\n\t    <h2>Item 1</h2>\r\n\t    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus   accumsan pretium dolor vel convallis. Aliquam erat volutpat. Maecenas lacus nunc, imperdiet sed mi et, finibus suscipit mi.</p>\r\n\t    <a class=\"arrow arrow-prev\" href=\"#item-3\"></a>\r\n\t    <a class=\"arrow arrow-next\" href=\"#item-2\"></a>\r\n\t  </div>\r\n\r\n\t  <div class=\"carousel-item item-2\">\r\n\t    <h2>Item 2</h2>\r\n\t    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus accumsan pretium dolor vel convallis. Aliquam erat volutpat.</p>\r\n\t    <a class=\"arrow arrow-prev\" href=\"#item-1\"></a>\r\n\t    <a class=\"arrow arrow-next\" href=\"#item-3\"></a>\r\n\t  </div>\r\n\r\n\t  <div class=\"carousel-item item-3\">\r\n\t    <h2>Item 3</h2>\r\n\t    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus accumsan pretium dolor vel convallis. Aliquam erat volutpat.</p>\r\n\t    <a class=\"arrow arrow-prev\" href=\"#item-2\"></a>\r\n\t    <a class=\"arrow arrow-next\" href=\"#item-1\"></a>\r\n\t  </div>\r\n\t</div>\r\n\r\n</div>\r\n\r\n\t\t</div>\r\n\r\n\t\t<div id=\"content\">\r\n\r\n\t\t</div>\r\n\r\n\t\t<footer>\r\n\t\t</footer>\r\n\r\n\r\n\t</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- index.php	(revision bf350b17f29b7d00065eac9b362d76645cfdf8ae)
+++ index.php	(date 1588603838756)
@@ -1,4 +1,3 @@
-<?php session_start(); ?>
 
 <!doctype html>
 <html>
@@ -14,9 +13,7 @@
 		<link rel="stylesheet" href="style.css" />
 
 	</head>
-	<?php
-        session_start();
-        ?>
+
 	<body>
 		<header>
 
Index: inscription.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!doctype html>\r\n<html>\r\n\t<head>\r\n\t\t<meta charset=\"UTF-8\">\r\n\t\t<link rel=\"stylesheet\" href=\"style.css\" />\r\n\t</head>\r\n\t<body>\r\n\r\n    <?php\r\n        session_start();\r\n        ?>\r\n\r\n    <?php\r\n\r\n        include 'menu.php';\r\n        require('connexionbdd.php');\r\n    ?>\r\n            <?php\r\n\r\n                if (isset($_POST['nom'])||isset($_POST[\"prenom\"])||isset($_POST[\"mail\"])||isset($_POST[\"password\"])){\r\n                    $mdp=$_POST[\"password\"];\r\n                    if($mdp!=\"\"&&strlen($mdp)<4){\r\n\r\n                        echo \"le mot de passe n'est pas valide, il doit contenir au moins 4 caractères\";\r\n                    }\r\n                    else{\r\n                        $nom=htmlspecialchars($_POST[\"nom\"]);\r\n                        $prenom=htmlspecialchars($_POST[\"prenom\"]);\r\n                        $mdp=sha1($_POST[\"password\"]);\r\n                        $confMdp=sha1($_POST[\"password2\"]);\r\n                        $mail=$_POST[\"mail\"];\r\n                        if ($_POST['nom']!=\"\" && $_POST['prenom']!=\"\"&& $_POST[\"password\"]!=\"\" && $_POST[\"password2\"]!=\"\" && $_POST[\"mail\"]!=\"\"){\r\n                            if(preg_match(\"#^[a-zA-Zéèçàùê-]{2,30}$#\", $nom)){\r\n                                if(preg_match(\"#^[a-zA-Zéèçàùê-]{2,30}$#\", $prenom)){\r\n                                    if($mdp==$confMdp){\r\n                                        if(preg_match(\"#^[a-zA-Z0-9._-]+@[a-zA-Z0-9._-]{2,}\\.[a-z]{2,4}$#\", $mail)){\r\n                                            $rq1= $bdd->prepare('SELECT * FROM Utilisateurs WHERE Mail= :mail');\r\n                                            $rq1->execute(array(\r\n                                                'mail' => $mail));\r\n                                            $resultat1 =$rq1->fetch();\r\n                                            if ($resultat1['mail']==$mail){\r\n\r\n                                                echo \"L'email que vous avez renseigné est déjà utilisé ! Essayer de vous connecter\";\r\n                                            }\r\n                                            else{\r\n                                                echo \"Votre compte a été correctement ajouté\";\r\n                                                $rq1=$bdd->prepare('INSERT INTO Utilisateurs(Nom, Prenom, Mail, Mdp) VALUES(:nom, :prenom, :mail, :mdp)');\r\n                                                $rq1->execute(array(\r\n                                                'nom' => $nom,\r\n                                                'prenom' => $prenom,\r\n                                                'mail' => $mail,\r\n                                                'mdp' => $mdp));\r\n                                                $rq= $bdd->prepare('SELECT * FROM Utilisateurs WHERE Mail= :mail AND Mdp= :mdp');\r\n                                                $rq->execute(array(\r\n                                                'mail' => $mail,\r\n                                                'mdp' => $mdp));\r\n                                                $resultat =$rq->fetch();\r\n                                                if (!$resultat){\r\n                                                    echo \"Nous n'avons pas de correspondance pour cet email\";\r\n                                                }\r\n                                                else{\r\n                                                $_SESSION['id']=$resultat['id'];\r\n                                                $_SESSION['mail']=$resultat['mail'];\r\n                                                $_SESSION['nom']=$resultat['nom'];\r\n                                                $_SESSION['prenom']=$resultat['prenom'];\r\n                                                $_SESSION['classement']=$resultat['classement'];\r\n                                                $_SESSION[\"admin\"]=$resultat['statut'];\r\n                                                $_SESSION[\"statut\"]=1;\r\n                                                #$_SESSION['affiliation']=$resultat['N°Affiliation'];\r\n                                                $_SESSION[\"terrain1\"]=null;\r\n                                                $_SESSION[\"terrain2\"]=null;\r\n                                                $_SESSION[\"terrain3\"]=null;\r\n                                                $_SESSION[\"terrain4\"]=null;\r\n                                                $today=date('Y-m-d');\r\n                                                $_SESSION[\"jour\"]=$today;\r\n                                                $nom=\"\";\r\n                                                $prenom=\"\";\r\n                                                $mdp=\"\";\r\n                                                $mail=\"\";$confMdp=\"\";\r\n                                                echo $_SESSION['nom'];\r\n                                                echo \"Vous etes connecté\";\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        else{\r\n                                            echo \"votre adresse mail est incorrecte, Veuillez vérifier\";\r\n                                        }\r\n                                    }\r\n                                    else{\r\n                                        echo \"Il y a une erreur dans votre mot de passe, veuillez taper au minimum 4 caractere\";\r\n                                    }\r\n                                }\r\n                                else{\r\n                                    echo \"Votre prenom doit contenir au moins 2 caracteres et il ne peut contenir que des lettres \";\r\n                                }\r\n                            }\r\n                            else{\r\n                                    echo \"Votre nom doit contenir au moins 2 caracteres et il ne peut contenir que des lettres\";\r\n                                }\r\n                        }\r\n                        else {\r\n                            echo \"remplissez tous les champs!!\";\r\n                        }\r\n                    }\r\n                }\r\n            ?>\r\n                    <div id=\"container2\">\r\n                        <!-- zone de connexion -->\r\n                        <form action=\"inscription.php\" method=\"POST\">\r\n                            <h1>Inscription</h1>\r\n                            <label><b>Nom:</b></label>\r\n                            <input type=\"text\" placeholder=\"Entrer votre nom\" name=\"nom\" value=\"<?php if(isset($nom)){echo $nom;}else{echo '';} ?>\" required>\r\n                            <label><b>Prenom:</b></label>\r\n                            <input type=\"text\" placeholder=\"Entrer votre Prénom\" name=\"prenom\" value=\"<?php if(isset($prenom)){echo $prenom;}else{echo '';} ?>\"required>\r\n                            <label><b>Adresse Mail:</b></label>\r\n                            <input type=\"email\" placeholder=\"Entrer votre adresse mail\" name=\"mail\" value=\"<?php if(isset($mail)){echo $mail;}else{echo '';} ?>\" required>\r\n                            <label><b>Mot de passe:</b></label>\r\n                            <input type=\"password\" placeholder=\"Entrer le mot de passe\" name=\"password\" required>\r\n                            <label><b>Confirmation Mot de passe:</b></label>\r\n                            <input type=\"password\" placeholder=\"Entrer le mot de passe\" name=\"password2\" required>\r\n                            <label><b>Classement:</b></label>\r\n                            <select id=\"classement\">\r\n                              <option value=\"NC\">NC</option>\r\n                              <option value=\"C30.6\">C30.6</option>\r\n                              <option value=\"C30.5\">C30.5</option>\r\n                              <option value=\"C30.4\">C30.4</option>\r\n                              <option value=\"C30.3\">C30.3</option>\r\n                              <option value=\"C30.2\">C30.2</option>\r\n                              <option value=\"C30.1\">C30.1</option>\r\n                              <option value=\"C30.0\">C30.0</option>\r\n                              <option value=\"C15.5\">C15.5</option>\r\n                              <option value=\"C15.4\">C15.4</option>\r\n                              <option value=\"C15.3\">C15.3</option>\r\n                              <option value=\"C15.2\">C15.2</option>\r\n                              <option value=\"C15.1\">C15.1</option>\r\n                              <option value=\"C15\">C15</option>\r\n                              <option value=\"B4/6\">B4/6</option>\r\n                              <option value=\"B2/6\">B2/6</option>\r\n                              <option value=\"B0\">B0</option>\r\n                              <option value=\"B-2/6\">B-2/6</option>\r\n                              <option value=\"B-4/6\">B-4/6</option>\r\n                              <option value=\"B-15\">B-15</option>\r\n                              <option value=\"B-15.1\">B-15.1</option>\r\n                              <option value=\"B-15.2\">B-15.2</option>\r\n                              <option value=\"B-15.4\">B-15.4</option>\r\n                              <option value=\"A Nat\">A Nat</option>\r\n                              <option value=\"A int\">A int</option>\r\n\r\n\r\n                            </select>\r\n                            <input type=\"submit\" id='submit' value=\"S'inscrire\" >\r\n\r\n                        </form>\r\n\r\n                </body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- inscription.php	(revision bf350b17f29b7d00065eac9b362d76645cfdf8ae)
+++ inscription.php	(date 1588603855810)
@@ -7,10 +7,6 @@
 	<body>
 
     <?php
-        session_start();
-        ?>
-
-    <?php
 
         include 'menu.php';
         require('connexionbdd.php');
